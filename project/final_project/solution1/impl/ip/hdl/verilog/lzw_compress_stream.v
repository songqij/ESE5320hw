// ==============================================================
// RTL generated by Vitis HLS - High-Level Synthesis from C, C++ and OpenCL v2020.2 (64-bit)
// Version: 2020.2
// Copyright (C) Copyright 1986-2020 Xilinx, Inc. All Rights Reserved.
// 
// ===========================================================

`timescale 1 ns / 1 ps 

module lzw_compress_stream (
        ap_clk,
        ap_rst,
        ap_start,
        start_full_n,
        ap_done,
        ap_continue,
        ap_idle,
        ap_ready,
        start_out,
        start_write,
        chunk_arr_stream_dout,
        chunk_arr_stream_empty_n,
        chunk_arr_stream_read,
        codeword_stream_din,
        codeword_stream_full_n,
        codeword_stream_write,
        gmem_load_loc_dout,
        gmem_load_loc_empty_n,
        gmem_load_loc_read
);

parameter    ap_ST_fsm_state1 = 9'd1;
parameter    ap_ST_fsm_state2 = 9'd2;
parameter    ap_ST_fsm_state3 = 9'd4;
parameter    ap_ST_fsm_state4 = 9'd8;
parameter    ap_ST_fsm_state5 = 9'd16;
parameter    ap_ST_fsm_state6 = 9'd32;
parameter    ap_ST_fsm_state7 = 9'd64;
parameter    ap_ST_fsm_state8 = 9'd128;
parameter    ap_ST_fsm_state9 = 9'd256;

input   ap_clk;
input   ap_rst;
input   ap_start;
input   start_full_n;
output   ap_done;
input   ap_continue;
output   ap_idle;
output   ap_ready;
output   start_out;
output   start_write;
input  [7:0] chunk_arr_stream_dout;
input   chunk_arr_stream_empty_n;
output   chunk_arr_stream_read;
output  [15:0] codeword_stream_din;
input   codeword_stream_full_n;
output   codeword_stream_write;
input  [31:0] gmem_load_loc_dout;
input   gmem_load_loc_empty_n;
output   gmem_load_loc_read;

reg ap_done;
reg ap_idle;
reg start_write;
reg chunk_arr_stream_read;
reg[15:0] codeword_stream_din;
reg codeword_stream_write;
reg gmem_load_loc_read;

reg    real_start;
reg    start_once_reg;
reg    ap_done_reg;
(* fsm_encoding = "none" *) reg   [8:0] ap_CS_fsm;
wire    ap_CS_fsm_state1;
reg    internal_ap_ready;
reg    chunk_arr_stream_blk_n;
wire    ap_CS_fsm_state7;
wire   [0:0] grp_nbreadreq_fu_124_p3;
wire    ap_CS_fsm_state8;
reg   [0:0] tmp_i_i_reg_466;
wire   [0:0] icmp_ln179_fu_366_p2;
reg    codeword_stream_blk_n;
wire    ap_CS_fsm_state9;
wire   [0:0] hit_fu_395_p1;
reg    gmem_load_loc_blk_n;
reg   [31:0] gmem_load_loc_read_reg_437;
wire   [15:0] empty_56_fu_298_p2;
wire    ap_CS_fsm_state2;
wire   [5:0] add_ln58_fu_315_p2;
wire    ap_CS_fsm_state4;
wire   [6:0] add_ln64_fu_335_p2;
wire    ap_CS_fsm_state6;
reg   [15:0] p_0_load_reg_491;
reg   [7:0] tmp_V_2_reg_499;
wire   [19:0] trunc_ln_fu_378_p3;
reg   [19:0] trunc_ln_reg_504;
wire   [11:0] trunc_ln179_fu_387_p1;
reg   [11:0] trunc_ln179_reg_509;
wire   [31:0] i_4_fu_431_p2;
reg   [4:0] assoc_mem_quarter_0_address0;
reg    assoc_mem_quarter_0_ce0;
reg    assoc_mem_quarter_0_we0;
reg   [63:0] assoc_mem_quarter_0_d0;
wire   [63:0] assoc_mem_quarter_0_q0;
reg   [4:0] assoc_mem_quarter_1_address0;
reg    assoc_mem_quarter_1_ce0;
reg    assoc_mem_quarter_1_we0;
reg   [63:0] assoc_mem_quarter_1_d0;
wire   [63:0] assoc_mem_quarter_1_q0;
reg   [4:0] assoc_mem_quarter_2_address0;
reg    assoc_mem_quarter_2_ce0;
reg    assoc_mem_quarter_2_we0;
reg   [63:0] assoc_mem_quarter_2_d0;
wire   [63:0] assoc_mem_quarter_2_q0;
reg   [4:0] assoc_mem_quarter_3_address0;
reg    assoc_mem_quarter_3_ce0;
reg    assoc_mem_quarter_3_we0;
reg   [63:0] assoc_mem_quarter_3_d0;
wire   [63:0] assoc_mem_quarter_3_q0;
reg   [5:0] assoc_mem_value_address0;
reg    assoc_mem_value_ce0;
reg    assoc_mem_value_we0;
reg   [11:0] assoc_mem_value_d0;
wire   [11:0] assoc_mem_value_q0;
reg   [14:0] hash_table_address0;
reg    hash_table_ce0;
reg    hash_table_we0;
reg   [32:0] hash_table_d0;
wire   [32:0] hash_table_q0;
wire    grp_lookup_and_insert_fu_280_ap_start;
wire    grp_lookup_and_insert_fu_280_ap_done;
wire    grp_lookup_and_insert_fu_280_ap_idle;
wire    grp_lookup_and_insert_fu_280_ap_ready;
wire   [14:0] grp_lookup_and_insert_fu_280_hash_table_address0;
wire    grp_lookup_and_insert_fu_280_hash_table_ce0;
wire    grp_lookup_and_insert_fu_280_hash_table_we0;
wire   [32:0] grp_lookup_and_insert_fu_280_hash_table_d0;
wire   [4:0] grp_lookup_and_insert_fu_280_assoc_mem_quarter_0_address0;
wire    grp_lookup_and_insert_fu_280_assoc_mem_quarter_0_ce0;
wire    grp_lookup_and_insert_fu_280_assoc_mem_quarter_0_we0;
wire   [63:0] grp_lookup_and_insert_fu_280_assoc_mem_quarter_0_d0;
wire   [4:0] grp_lookup_and_insert_fu_280_assoc_mem_quarter_1_address0;
wire    grp_lookup_and_insert_fu_280_assoc_mem_quarter_1_ce0;
wire    grp_lookup_and_insert_fu_280_assoc_mem_quarter_1_we0;
wire   [63:0] grp_lookup_and_insert_fu_280_assoc_mem_quarter_1_d0;
wire   [4:0] grp_lookup_and_insert_fu_280_assoc_mem_quarter_2_address0;
wire    grp_lookup_and_insert_fu_280_assoc_mem_quarter_2_ce0;
wire    grp_lookup_and_insert_fu_280_assoc_mem_quarter_2_we0;
wire   [63:0] grp_lookup_and_insert_fu_280_assoc_mem_quarter_2_d0;
wire   [4:0] grp_lookup_and_insert_fu_280_assoc_mem_quarter_3_address0;
wire    grp_lookup_and_insert_fu_280_assoc_mem_quarter_3_ce0;
wire    grp_lookup_and_insert_fu_280_assoc_mem_quarter_3_we0;
wire   [63:0] grp_lookup_and_insert_fu_280_assoc_mem_quarter_3_d0;
wire   [5:0] grp_lookup_and_insert_fu_280_assoc_mem_value_address0;
wire    grp_lookup_and_insert_fu_280_assoc_mem_value_ce0;
wire    grp_lookup_and_insert_fu_280_assoc_mem_value_we0;
wire   [11:0] grp_lookup_and_insert_fu_280_assoc_mem_value_d0;
wire   [31:0] grp_lookup_and_insert_fu_280_ap_return_0;
wire   [0:0] grp_lookup_and_insert_fu_280_ap_return_1;
wire   [31:0] grp_lookup_and_insert_fu_280_ap_return_2;
reg   [15:0] empty_reg_223;
reg    ap_block_state1;
wire   [0:0] exitcond386_i_i_fu_304_p2;
reg   [5:0] i_reg_234;
wire   [0:0] icmp_ln58_fu_321_p2;
wire    ap_CS_fsm_state3;
reg   [6:0] i_2_reg_245;
wire   [0:0] icmp_ln64_fu_341_p2;
wire    ap_CS_fsm_state5;
reg   [31:0] assoc_mem_fill_0_i_i_reg_256;
reg    ap_block_state7;
reg    ap_block_state9;
reg   [31:0] i_3_reg_268;
reg    grp_lookup_and_insert_fu_280_ap_start_reg;
reg    ap_predicate_op81_read_state8;
reg    ap_predicate_op87_write_state8;
reg    ap_block_state8_ignore_call7;
wire   [63:0] p_cast_i_i_fu_310_p1;
wire   [63:0] i_cast_i_i_fu_327_p1;
wire   [63:0] i_2_cast_i_i_fu_347_p1;
reg   [15:0] p_0_fu_110;
wire   [15:0] zext_ln183_fu_392_p1;
wire   [15:0] trunc_ln172_fu_403_p1;
wire   [15:0] zext_ln172_fu_352_p1;
reg   [31:0] nextCode_fu_114;
wire   [31:0] nextCode_1_fu_411_p2;
reg    ap_block_state8;
wire   [11:0] trunc_ln183_fu_374_p1;
reg   [8:0] ap_NS_fsm;
wire    ap_ce_reg;

// power-on initialization
initial begin
#0 start_once_reg = 1'b0;
#0 ap_done_reg = 1'b0;
#0 ap_CS_fsm = 9'd1;
#0 grp_lookup_and_insert_fu_280_ap_start_reg = 1'b0;
end

lzw_compress_stream_assoc_mem_quarter_0 #(
    .DataWidth( 64 ),
    .AddressRange( 32 ),
    .AddressWidth( 5 ))
assoc_mem_quarter_0_U(
    .clk(ap_clk),
    .reset(ap_rst),
    .address0(assoc_mem_quarter_0_address0),
    .ce0(assoc_mem_quarter_0_ce0),
    .we0(assoc_mem_quarter_0_we0),
    .d0(assoc_mem_quarter_0_d0),
    .q0(assoc_mem_quarter_0_q0)
);

lzw_compress_stream_assoc_mem_quarter_0 #(
    .DataWidth( 64 ),
    .AddressRange( 32 ),
    .AddressWidth( 5 ))
assoc_mem_quarter_1_U(
    .clk(ap_clk),
    .reset(ap_rst),
    .address0(assoc_mem_quarter_1_address0),
    .ce0(assoc_mem_quarter_1_ce0),
    .we0(assoc_mem_quarter_1_we0),
    .d0(assoc_mem_quarter_1_d0),
    .q0(assoc_mem_quarter_1_q0)
);

lzw_compress_stream_assoc_mem_quarter_0 #(
    .DataWidth( 64 ),
    .AddressRange( 32 ),
    .AddressWidth( 5 ))
assoc_mem_quarter_2_U(
    .clk(ap_clk),
    .reset(ap_rst),
    .address0(assoc_mem_quarter_2_address0),
    .ce0(assoc_mem_quarter_2_ce0),
    .we0(assoc_mem_quarter_2_we0),
    .d0(assoc_mem_quarter_2_d0),
    .q0(assoc_mem_quarter_2_q0)
);

lzw_compress_stream_assoc_mem_quarter_0 #(
    .DataWidth( 64 ),
    .AddressRange( 32 ),
    .AddressWidth( 5 ))
assoc_mem_quarter_3_U(
    .clk(ap_clk),
    .reset(ap_rst),
    .address0(assoc_mem_quarter_3_address0),
    .ce0(assoc_mem_quarter_3_ce0),
    .we0(assoc_mem_quarter_3_we0),
    .d0(assoc_mem_quarter_3_d0),
    .q0(assoc_mem_quarter_3_q0)
);

lzw_compress_stream_assoc_mem_value #(
    .DataWidth( 12 ),
    .AddressRange( 64 ),
    .AddressWidth( 6 ))
assoc_mem_value_U(
    .clk(ap_clk),
    .reset(ap_rst),
    .address0(assoc_mem_value_address0),
    .ce0(assoc_mem_value_ce0),
    .we0(assoc_mem_value_we0),
    .d0(assoc_mem_value_d0),
    .q0(assoc_mem_value_q0)
);

lzw_compress_stream_hash_table #(
    .DataWidth( 33 ),
    .AddressRange( 32768 ),
    .AddressWidth( 15 ))
hash_table_U(
    .clk(ap_clk),
    .reset(ap_rst),
    .address0(hash_table_address0),
    .ce0(hash_table_ce0),
    .we0(hash_table_we0),
    .d0(hash_table_d0),
    .q0(hash_table_q0)
);

lzw_lookup_and_insert grp_lookup_and_insert_fu_280(
    .ap_clk(ap_clk),
    .ap_rst(ap_rst),
    .ap_start(grp_lookup_and_insert_fu_280_ap_start),
    .ap_done(grp_lookup_and_insert_fu_280_ap_done),
    .ap_idle(grp_lookup_and_insert_fu_280_ap_idle),
    .ap_ready(grp_lookup_and_insert_fu_280_ap_ready),
    .hash_table_address0(grp_lookup_and_insert_fu_280_hash_table_address0),
    .hash_table_ce0(grp_lookup_and_insert_fu_280_hash_table_ce0),
    .hash_table_we0(grp_lookup_and_insert_fu_280_hash_table_we0),
    .hash_table_d0(grp_lookup_and_insert_fu_280_hash_table_d0),
    .hash_table_q0(hash_table_q0),
    .assoc_mem_quarter_0_address0(grp_lookup_and_insert_fu_280_assoc_mem_quarter_0_address0),
    .assoc_mem_quarter_0_ce0(grp_lookup_and_insert_fu_280_assoc_mem_quarter_0_ce0),
    .assoc_mem_quarter_0_we0(grp_lookup_and_insert_fu_280_assoc_mem_quarter_0_we0),
    .assoc_mem_quarter_0_d0(grp_lookup_and_insert_fu_280_assoc_mem_quarter_0_d0),
    .assoc_mem_quarter_0_q0(assoc_mem_quarter_0_q0),
    .assoc_mem_quarter_1_address0(grp_lookup_and_insert_fu_280_assoc_mem_quarter_1_address0),
    .assoc_mem_quarter_1_ce0(grp_lookup_and_insert_fu_280_assoc_mem_quarter_1_ce0),
    .assoc_mem_quarter_1_we0(grp_lookup_and_insert_fu_280_assoc_mem_quarter_1_we0),
    .assoc_mem_quarter_1_d0(grp_lookup_and_insert_fu_280_assoc_mem_quarter_1_d0),
    .assoc_mem_quarter_1_q0(assoc_mem_quarter_1_q0),
    .assoc_mem_quarter_2_address0(grp_lookup_and_insert_fu_280_assoc_mem_quarter_2_address0),
    .assoc_mem_quarter_2_ce0(grp_lookup_and_insert_fu_280_assoc_mem_quarter_2_ce0),
    .assoc_mem_quarter_2_we0(grp_lookup_and_insert_fu_280_assoc_mem_quarter_2_we0),
    .assoc_mem_quarter_2_d0(grp_lookup_and_insert_fu_280_assoc_mem_quarter_2_d0),
    .assoc_mem_quarter_2_q0(assoc_mem_quarter_2_q0),
    .assoc_mem_quarter_3_address0(grp_lookup_and_insert_fu_280_assoc_mem_quarter_3_address0),
    .assoc_mem_quarter_3_ce0(grp_lookup_and_insert_fu_280_assoc_mem_quarter_3_ce0),
    .assoc_mem_quarter_3_we0(grp_lookup_and_insert_fu_280_assoc_mem_quarter_3_we0),
    .assoc_mem_quarter_3_d0(grp_lookup_and_insert_fu_280_assoc_mem_quarter_3_d0),
    .assoc_mem_quarter_3_q0(assoc_mem_quarter_3_q0),
    .assoc_mem_value_address0(grp_lookup_and_insert_fu_280_assoc_mem_value_address0),
    .assoc_mem_value_ce0(grp_lookup_and_insert_fu_280_assoc_mem_value_ce0),
    .assoc_mem_value_we0(grp_lookup_and_insert_fu_280_assoc_mem_value_we0),
    .assoc_mem_value_d0(grp_lookup_and_insert_fu_280_assoc_mem_value_d0),
    .assoc_mem_value_q0(assoc_mem_value_q0),
    .assoc_mem_fill_read(assoc_mem_fill_0_i_i_reg_256),
    .key(trunc_ln_reg_504),
    .nextCode(trunc_ln179_reg_509),
    .ap_return_0(grp_lookup_and_insert_fu_280_ap_return_0),
    .ap_return_1(grp_lookup_and_insert_fu_280_ap_return_1),
    .ap_return_2(grp_lookup_and_insert_fu_280_ap_return_2)
);

always @ (posedge ap_clk) begin
    if (ap_rst == 1'b1) begin
        ap_CS_fsm <= ap_ST_fsm_state1;
    end else begin
        ap_CS_fsm <= ap_NS_fsm;
    end
end

always @ (posedge ap_clk) begin
    if (ap_rst == 1'b1) begin
        ap_done_reg <= 1'b0;
    end else begin
        if ((ap_continue == 1'b1)) begin
            ap_done_reg <= 1'b0;
        end else if ((~(((codeword_stream_full_n == 1'b0) & (ap_predicate_op87_write_state8 == 1'b1)) | ((chunk_arr_stream_empty_n == 1'b0) & (ap_predicate_op81_read_state8 == 1'b1))) & (1'b1 == ap_CS_fsm_state8) & ((tmp_i_i_reg_466 == 1'd0) | ((icmp_ln179_fu_366_p2 == 1'd0) | (grp_nbreadreq_fu_124_p3 == 1'd0))))) begin
            ap_done_reg <= 1'b1;
        end
    end
end

always @ (posedge ap_clk) begin
    if (ap_rst == 1'b1) begin
        grp_lookup_and_insert_fu_280_ap_start_reg <= 1'b0;
    end else begin
        if ((~(((codeword_stream_full_n == 1'b0) & (ap_predicate_op87_write_state8 == 1'b1)) | ((chunk_arr_stream_empty_n == 1'b0) & (ap_predicate_op81_read_state8 == 1'b1))) & (icmp_ln179_fu_366_p2 == 1'd1) & (tmp_i_i_reg_466 == 1'd1) & (grp_nbreadreq_fu_124_p3 == 1'd1) & (1'b1 == ap_CS_fsm_state8))) begin
            grp_lookup_and_insert_fu_280_ap_start_reg <= 1'b1;
        end else if ((grp_lookup_and_insert_fu_280_ap_ready == 1'b1)) begin
            grp_lookup_and_insert_fu_280_ap_start_reg <= 1'b0;
        end
    end
end

always @ (posedge ap_clk) begin
    if (ap_rst == 1'b1) begin
        start_once_reg <= 1'b0;
    end else begin
        if (((internal_ap_ready == 1'b0) & (real_start == 1'b1))) begin
            start_once_reg <= 1'b1;
        end else if ((internal_ap_ready == 1'b1)) begin
            start_once_reg <= 1'b0;
        end
    end
end

always @ (posedge ap_clk) begin
    if ((~((grp_lookup_and_insert_fu_280_ap_done == 1'b0) | ((grp_lookup_and_insert_fu_280_ap_return_1 == 1'd0) & (codeword_stream_full_n == 1'b0))) & (1'b1 == ap_CS_fsm_state9))) begin
        assoc_mem_fill_0_i_i_reg_256 <= grp_lookup_and_insert_fu_280_ap_return_2;
    end else if ((~((grp_nbreadreq_fu_124_p3 == 1'd1) & (chunk_arr_stream_empty_n == 1'b0)) & (grp_nbreadreq_fu_124_p3 == 1'd1) & (1'b1 == ap_CS_fsm_state7))) begin
        assoc_mem_fill_0_i_i_reg_256 <= 32'd0;
    end
end

always @ (posedge ap_clk) begin
    if (((exitcond386_i_i_fu_304_p2 == 1'd0) & (1'b1 == ap_CS_fsm_state2))) begin
        empty_reg_223 <= empty_56_fu_298_p2;
    end else if ((~((gmem_load_loc_empty_n == 1'b0) | (ap_done_reg == 1'b1) | (real_start == 1'b0)) & (1'b1 == ap_CS_fsm_state1))) begin
        empty_reg_223 <= 16'd0;
    end
end

always @ (posedge ap_clk) begin
    if ((1'b1 == ap_CS_fsm_state5)) begin
        i_2_reg_245 <= 7'd0;
    end else if (((icmp_ln64_fu_341_p2 == 1'd0) & (1'b1 == ap_CS_fsm_state6))) begin
        i_2_reg_245 <= add_ln64_fu_335_p2;
    end
end

always @ (posedge ap_clk) begin
    if ((~((grp_lookup_and_insert_fu_280_ap_done == 1'b0) | ((grp_lookup_and_insert_fu_280_ap_return_1 == 1'd0) & (codeword_stream_full_n == 1'b0))) & (1'b1 == ap_CS_fsm_state9))) begin
        i_3_reg_268 <= i_4_fu_431_p2;
    end else if ((~((grp_nbreadreq_fu_124_p3 == 1'd1) & (chunk_arr_stream_empty_n == 1'b0)) & (grp_nbreadreq_fu_124_p3 == 1'd1) & (1'b1 == ap_CS_fsm_state7))) begin
        i_3_reg_268 <= 32'd1;
    end
end

always @ (posedge ap_clk) begin
    if ((1'b1 == ap_CS_fsm_state3)) begin
        i_reg_234 <= 6'd0;
    end else if (((icmp_ln58_fu_321_p2 == 1'd0) & (1'b1 == ap_CS_fsm_state4))) begin
        i_reg_234 <= add_ln58_fu_315_p2;
    end
end

always @ (posedge ap_clk) begin
    if ((~((grp_nbreadreq_fu_124_p3 == 1'd1) & (chunk_arr_stream_empty_n == 1'b0)) & (grp_nbreadreq_fu_124_p3 == 1'd1) & (1'b1 == ap_CS_fsm_state7))) begin
        nextCode_fu_114 <= 32'd256;
    end else if ((~((grp_lookup_and_insert_fu_280_ap_done == 1'b0) | ((grp_lookup_and_insert_fu_280_ap_return_1 == 1'd0) & (codeword_stream_full_n == 1'b0))) & (grp_lookup_and_insert_fu_280_ap_return_1 == 1'd0) & (1'b1 == ap_CS_fsm_state9))) begin
        nextCode_fu_114 <= nextCode_1_fu_411_p2;
    end
end

always @ (posedge ap_clk) begin
    if ((~((grp_nbreadreq_fu_124_p3 == 1'd1) & (chunk_arr_stream_empty_n == 1'b0)) & (grp_nbreadreq_fu_124_p3 == 1'd1) & (1'b1 == ap_CS_fsm_state7))) begin
        p_0_fu_110 <= zext_ln172_fu_352_p1;
    end else if ((~((grp_lookup_and_insert_fu_280_ap_done == 1'b0) | ((grp_lookup_and_insert_fu_280_ap_return_1 == 1'd0) & (codeword_stream_full_n == 1'b0))) & (hit_fu_395_p1 == 1'd1) & (1'b1 == ap_CS_fsm_state9))) begin
        p_0_fu_110 <= trunc_ln172_fu_403_p1;
    end else if ((~((grp_lookup_and_insert_fu_280_ap_done == 1'b0) | ((grp_lookup_and_insert_fu_280_ap_return_1 == 1'd0) & (codeword_stream_full_n == 1'b0))) & (grp_lookup_and_insert_fu_280_ap_return_1 == 1'd0) & (1'b1 == ap_CS_fsm_state9))) begin
        p_0_fu_110 <= zext_ln183_fu_392_p1;
    end
end

always @ (posedge ap_clk) begin
    if ((1'b1 == ap_CS_fsm_state1)) begin
        gmem_load_loc_read_reg_437 <= gmem_load_loc_dout;
    end
end

always @ (posedge ap_clk) begin
    if (((icmp_ln179_fu_366_p2 == 1'd1) & (tmp_i_i_reg_466 == 1'd1) & (grp_nbreadreq_fu_124_p3 == 1'd1) & (1'b1 == ap_CS_fsm_state8))) begin
        p_0_load_reg_491 <= p_0_fu_110;
        tmp_V_2_reg_499 <= chunk_arr_stream_dout;
        trunc_ln179_reg_509 <= trunc_ln179_fu_387_p1;
        trunc_ln_reg_504 <= trunc_ln_fu_378_p3;
    end
end

always @ (posedge ap_clk) begin
    if ((1'b1 == ap_CS_fsm_state7)) begin
        tmp_i_i_reg_466 <= grp_nbreadreq_fu_124_p3;
    end
end

always @ (*) begin
    if ((~(((codeword_stream_full_n == 1'b0) & (ap_predicate_op87_write_state8 == 1'b1)) | ((chunk_arr_stream_empty_n == 1'b0) & (ap_predicate_op81_read_state8 == 1'b1))) & (1'b1 == ap_CS_fsm_state8) & ((tmp_i_i_reg_466 == 1'd0) | ((icmp_ln179_fu_366_p2 == 1'd0) | (grp_nbreadreq_fu_124_p3 == 1'd0))))) begin
        ap_done = 1'b1;
    end else begin
        ap_done = ap_done_reg;
    end
end

always @ (*) begin
    if (((1'b1 == ap_CS_fsm_state1) & (real_start == 1'b0))) begin
        ap_idle = 1'b1;
    end else begin
        ap_idle = 1'b0;
    end
end

always @ (*) begin
    if ((1'b1 == ap_CS_fsm_state4)) begin
        assoc_mem_quarter_0_address0 = i_cast_i_i_fu_327_p1;
    end else if ((1'b1 == ap_CS_fsm_state9)) begin
        assoc_mem_quarter_0_address0 = grp_lookup_and_insert_fu_280_assoc_mem_quarter_0_address0;
    end else begin
        assoc_mem_quarter_0_address0 = 'bx;
    end
end

always @ (*) begin
    if ((1'b1 == ap_CS_fsm_state4)) begin
        assoc_mem_quarter_0_ce0 = 1'b1;
    end else if ((1'b1 == ap_CS_fsm_state9)) begin
        assoc_mem_quarter_0_ce0 = grp_lookup_and_insert_fu_280_assoc_mem_quarter_0_ce0;
    end else begin
        assoc_mem_quarter_0_ce0 = 1'b0;
    end
end

always @ (*) begin
    if ((1'b1 == ap_CS_fsm_state4)) begin
        assoc_mem_quarter_0_d0 = 64'd0;
    end else if ((1'b1 == ap_CS_fsm_state9)) begin
        assoc_mem_quarter_0_d0 = grp_lookup_and_insert_fu_280_assoc_mem_quarter_0_d0;
    end else begin
        assoc_mem_quarter_0_d0 = 'bx;
    end
end

always @ (*) begin
    if (((icmp_ln58_fu_321_p2 == 1'd0) & (1'b1 == ap_CS_fsm_state4))) begin
        assoc_mem_quarter_0_we0 = 1'b1;
    end else if ((1'b1 == ap_CS_fsm_state9)) begin
        assoc_mem_quarter_0_we0 = grp_lookup_and_insert_fu_280_assoc_mem_quarter_0_we0;
    end else begin
        assoc_mem_quarter_0_we0 = 1'b0;
    end
end

always @ (*) begin
    if ((1'b1 == ap_CS_fsm_state4)) begin
        assoc_mem_quarter_1_address0 = i_cast_i_i_fu_327_p1;
    end else if ((1'b1 == ap_CS_fsm_state9)) begin
        assoc_mem_quarter_1_address0 = grp_lookup_and_insert_fu_280_assoc_mem_quarter_1_address0;
    end else begin
        assoc_mem_quarter_1_address0 = 'bx;
    end
end

always @ (*) begin
    if ((1'b1 == ap_CS_fsm_state4)) begin
        assoc_mem_quarter_1_ce0 = 1'b1;
    end else if ((1'b1 == ap_CS_fsm_state9)) begin
        assoc_mem_quarter_1_ce0 = grp_lookup_and_insert_fu_280_assoc_mem_quarter_1_ce0;
    end else begin
        assoc_mem_quarter_1_ce0 = 1'b0;
    end
end

always @ (*) begin
    if ((1'b1 == ap_CS_fsm_state4)) begin
        assoc_mem_quarter_1_d0 = 64'd0;
    end else if ((1'b1 == ap_CS_fsm_state9)) begin
        assoc_mem_quarter_1_d0 = grp_lookup_and_insert_fu_280_assoc_mem_quarter_1_d0;
    end else begin
        assoc_mem_quarter_1_d0 = 'bx;
    end
end

always @ (*) begin
    if (((icmp_ln58_fu_321_p2 == 1'd0) & (1'b1 == ap_CS_fsm_state4))) begin
        assoc_mem_quarter_1_we0 = 1'b1;
    end else if ((1'b1 == ap_CS_fsm_state9)) begin
        assoc_mem_quarter_1_we0 = grp_lookup_and_insert_fu_280_assoc_mem_quarter_1_we0;
    end else begin
        assoc_mem_quarter_1_we0 = 1'b0;
    end
end

always @ (*) begin
    if ((1'b1 == ap_CS_fsm_state4)) begin
        assoc_mem_quarter_2_address0 = i_cast_i_i_fu_327_p1;
    end else if ((1'b1 == ap_CS_fsm_state9)) begin
        assoc_mem_quarter_2_address0 = grp_lookup_and_insert_fu_280_assoc_mem_quarter_2_address0;
    end else begin
        assoc_mem_quarter_2_address0 = 'bx;
    end
end

always @ (*) begin
    if ((1'b1 == ap_CS_fsm_state4)) begin
        assoc_mem_quarter_2_ce0 = 1'b1;
    end else if ((1'b1 == ap_CS_fsm_state9)) begin
        assoc_mem_quarter_2_ce0 = grp_lookup_and_insert_fu_280_assoc_mem_quarter_2_ce0;
    end else begin
        assoc_mem_quarter_2_ce0 = 1'b0;
    end
end

always @ (*) begin
    if ((1'b1 == ap_CS_fsm_state4)) begin
        assoc_mem_quarter_2_d0 = 64'd0;
    end else if ((1'b1 == ap_CS_fsm_state9)) begin
        assoc_mem_quarter_2_d0 = grp_lookup_and_insert_fu_280_assoc_mem_quarter_2_d0;
    end else begin
        assoc_mem_quarter_2_d0 = 'bx;
    end
end

always @ (*) begin
    if (((icmp_ln58_fu_321_p2 == 1'd0) & (1'b1 == ap_CS_fsm_state4))) begin
        assoc_mem_quarter_2_we0 = 1'b1;
    end else if ((1'b1 == ap_CS_fsm_state9)) begin
        assoc_mem_quarter_2_we0 = grp_lookup_and_insert_fu_280_assoc_mem_quarter_2_we0;
    end else begin
        assoc_mem_quarter_2_we0 = 1'b0;
    end
end

always @ (*) begin
    if ((1'b1 == ap_CS_fsm_state4)) begin
        assoc_mem_quarter_3_address0 = i_cast_i_i_fu_327_p1;
    end else if ((1'b1 == ap_CS_fsm_state9)) begin
        assoc_mem_quarter_3_address0 = grp_lookup_and_insert_fu_280_assoc_mem_quarter_3_address0;
    end else begin
        assoc_mem_quarter_3_address0 = 'bx;
    end
end

always @ (*) begin
    if ((1'b1 == ap_CS_fsm_state4)) begin
        assoc_mem_quarter_3_ce0 = 1'b1;
    end else if ((1'b1 == ap_CS_fsm_state9)) begin
        assoc_mem_quarter_3_ce0 = grp_lookup_and_insert_fu_280_assoc_mem_quarter_3_ce0;
    end else begin
        assoc_mem_quarter_3_ce0 = 1'b0;
    end
end

always @ (*) begin
    if ((1'b1 == ap_CS_fsm_state4)) begin
        assoc_mem_quarter_3_d0 = 64'd0;
    end else if ((1'b1 == ap_CS_fsm_state9)) begin
        assoc_mem_quarter_3_d0 = grp_lookup_and_insert_fu_280_assoc_mem_quarter_3_d0;
    end else begin
        assoc_mem_quarter_3_d0 = 'bx;
    end
end

always @ (*) begin
    if (((icmp_ln58_fu_321_p2 == 1'd0) & (1'b1 == ap_CS_fsm_state4))) begin
        assoc_mem_quarter_3_we0 = 1'b1;
    end else if ((1'b1 == ap_CS_fsm_state9)) begin
        assoc_mem_quarter_3_we0 = grp_lookup_and_insert_fu_280_assoc_mem_quarter_3_we0;
    end else begin
        assoc_mem_quarter_3_we0 = 1'b0;
    end
end

always @ (*) begin
    if ((1'b1 == ap_CS_fsm_state6)) begin
        assoc_mem_value_address0 = i_2_cast_i_i_fu_347_p1;
    end else if ((1'b1 == ap_CS_fsm_state9)) begin
        assoc_mem_value_address0 = grp_lookup_and_insert_fu_280_assoc_mem_value_address0;
    end else begin
        assoc_mem_value_address0 = 'bx;
    end
end

always @ (*) begin
    if ((1'b1 == ap_CS_fsm_state6)) begin
        assoc_mem_value_ce0 = 1'b1;
    end else if ((1'b1 == ap_CS_fsm_state9)) begin
        assoc_mem_value_ce0 = grp_lookup_and_insert_fu_280_assoc_mem_value_ce0;
    end else begin
        assoc_mem_value_ce0 = 1'b0;
    end
end

always @ (*) begin
    if ((1'b1 == ap_CS_fsm_state6)) begin
        assoc_mem_value_d0 = 12'd0;
    end else if ((1'b1 == ap_CS_fsm_state9)) begin
        assoc_mem_value_d0 = grp_lookup_and_insert_fu_280_assoc_mem_value_d0;
    end else begin
        assoc_mem_value_d0 = 'bx;
    end
end

always @ (*) begin
    if (((icmp_ln64_fu_341_p2 == 1'd0) & (1'b1 == ap_CS_fsm_state6))) begin
        assoc_mem_value_we0 = 1'b1;
    end else if ((1'b1 == ap_CS_fsm_state9)) begin
        assoc_mem_value_we0 = grp_lookup_and_insert_fu_280_assoc_mem_value_we0;
    end else begin
        assoc_mem_value_we0 = 1'b0;
    end
end

always @ (*) begin
    if ((((icmp_ln179_fu_366_p2 == 1'd1) & (tmp_i_i_reg_466 == 1'd1) & (grp_nbreadreq_fu_124_p3 == 1'd1) & (1'b1 == ap_CS_fsm_state8)) | ((grp_nbreadreq_fu_124_p3 == 1'd1) & (1'b1 == ap_CS_fsm_state7)))) begin
        chunk_arr_stream_blk_n = chunk_arr_stream_empty_n;
    end else begin
        chunk_arr_stream_blk_n = 1'b1;
    end
end

always @ (*) begin
    if (((~(((codeword_stream_full_n == 1'b0) & (ap_predicate_op87_write_state8 == 1'b1)) | ((chunk_arr_stream_empty_n == 1'b0) & (ap_predicate_op81_read_state8 == 1'b1))) & (ap_predicate_op81_read_state8 == 1'b1) & (1'b1 == ap_CS_fsm_state8)) | (~((grp_nbreadreq_fu_124_p3 == 1'd1) & (chunk_arr_stream_empty_n == 1'b0)) & (grp_nbreadreq_fu_124_p3 == 1'd1) & (1'b1 == ap_CS_fsm_state7)))) begin
        chunk_arr_stream_read = 1'b1;
    end else begin
        chunk_arr_stream_read = 1'b0;
    end
end

always @ (*) begin
    if ((((grp_lookup_and_insert_fu_280_ap_return_1 == 1'd0) & (1'b1 == ap_CS_fsm_state9)) | ((1'b1 == ap_CS_fsm_state8) & (((icmp_ln179_fu_366_p2 == 1'd0) & (tmp_i_i_reg_466 == 1'd1)) | ((tmp_i_i_reg_466 == 1'd1) & (grp_nbreadreq_fu_124_p3 == 1'd0)))))) begin
        codeword_stream_blk_n = codeword_stream_full_n;
    end else begin
        codeword_stream_blk_n = 1'b1;
    end
end

always @ (*) begin
    if ((~((grp_lookup_and_insert_fu_280_ap_done == 1'b0) | ((grp_lookup_and_insert_fu_280_ap_return_1 == 1'd0) & (codeword_stream_full_n == 1'b0))) & (grp_lookup_and_insert_fu_280_ap_return_1 == 1'd0) & (1'b1 == ap_CS_fsm_state9))) begin
        codeword_stream_din = p_0_load_reg_491;
    end else if ((~(((codeword_stream_full_n == 1'b0) & (ap_predicate_op87_write_state8 == 1'b1)) | ((chunk_arr_stream_empty_n == 1'b0) & (ap_predicate_op81_read_state8 == 1'b1))) & (ap_predicate_op87_write_state8 == 1'b1) & (1'b1 == ap_CS_fsm_state8))) begin
        codeword_stream_din = p_0_fu_110;
    end else begin
        codeword_stream_din = 'bx;
    end
end

always @ (*) begin
    if (((~(((codeword_stream_full_n == 1'b0) & (ap_predicate_op87_write_state8 == 1'b1)) | ((chunk_arr_stream_empty_n == 1'b0) & (ap_predicate_op81_read_state8 == 1'b1))) & (ap_predicate_op87_write_state8 == 1'b1) & (1'b1 == ap_CS_fsm_state8)) | (~((grp_lookup_and_insert_fu_280_ap_done == 1'b0) | ((grp_lookup_and_insert_fu_280_ap_return_1 == 1'd0) & (codeword_stream_full_n == 1'b0))) & (grp_lookup_and_insert_fu_280_ap_return_1 == 1'd0) & (1'b1 == ap_CS_fsm_state9)))) begin
        codeword_stream_write = 1'b1;
    end else begin
        codeword_stream_write = 1'b0;
    end
end

always @ (*) begin
    if ((~((ap_done_reg == 1'b1) | (real_start == 1'b0)) & (1'b1 == ap_CS_fsm_state1))) begin
        gmem_load_loc_blk_n = gmem_load_loc_empty_n;
    end else begin
        gmem_load_loc_blk_n = 1'b1;
    end
end

always @ (*) begin
    if ((~((gmem_load_loc_empty_n == 1'b0) | (ap_done_reg == 1'b1) | (real_start == 1'b0)) & (1'b1 == ap_CS_fsm_state1))) begin
        gmem_load_loc_read = 1'b1;
    end else begin
        gmem_load_loc_read = 1'b0;
    end
end

always @ (*) begin
    if ((1'b1 == ap_CS_fsm_state2)) begin
        hash_table_address0 = p_cast_i_i_fu_310_p1;
    end else if ((1'b1 == ap_CS_fsm_state9)) begin
        hash_table_address0 = grp_lookup_and_insert_fu_280_hash_table_address0;
    end else begin
        hash_table_address0 = 'bx;
    end
end

always @ (*) begin
    if ((1'b1 == ap_CS_fsm_state2)) begin
        hash_table_ce0 = 1'b1;
    end else if ((1'b1 == ap_CS_fsm_state9)) begin
        hash_table_ce0 = grp_lookup_and_insert_fu_280_hash_table_ce0;
    end else begin
        hash_table_ce0 = 1'b0;
    end
end

always @ (*) begin
    if ((1'b1 == ap_CS_fsm_state2)) begin
        hash_table_d0 = 33'd0;
    end else if ((1'b1 == ap_CS_fsm_state9)) begin
        hash_table_d0 = grp_lookup_and_insert_fu_280_hash_table_d0;
    end else begin
        hash_table_d0 = 'bx;
    end
end

always @ (*) begin
    if (((exitcond386_i_i_fu_304_p2 == 1'd0) & (1'b1 == ap_CS_fsm_state2))) begin
        hash_table_we0 = 1'b1;
    end else if ((1'b1 == ap_CS_fsm_state9)) begin
        hash_table_we0 = grp_lookup_and_insert_fu_280_hash_table_we0;
    end else begin
        hash_table_we0 = 1'b0;
    end
end

always @ (*) begin
    if ((~(((codeword_stream_full_n == 1'b0) & (ap_predicate_op87_write_state8 == 1'b1)) | ((chunk_arr_stream_empty_n == 1'b0) & (ap_predicate_op81_read_state8 == 1'b1))) & (1'b1 == ap_CS_fsm_state8) & ((tmp_i_i_reg_466 == 1'd0) | ((icmp_ln179_fu_366_p2 == 1'd0) | (grp_nbreadreq_fu_124_p3 == 1'd0))))) begin
        internal_ap_ready = 1'b1;
    end else begin
        internal_ap_ready = 1'b0;
    end
end

always @ (*) begin
    if (((start_once_reg == 1'b0) & (start_full_n == 1'b0))) begin
        real_start = 1'b0;
    end else begin
        real_start = ap_start;
    end
end

always @ (*) begin
    if (((start_once_reg == 1'b0) & (real_start == 1'b1))) begin
        start_write = 1'b1;
    end else begin
        start_write = 1'b0;
    end
end

always @ (*) begin
    case (ap_CS_fsm)
        ap_ST_fsm_state1 : begin
            if ((~((gmem_load_loc_empty_n == 1'b0) | (ap_done_reg == 1'b1) | (real_start == 1'b0)) & (1'b1 == ap_CS_fsm_state1))) begin
                ap_NS_fsm = ap_ST_fsm_state2;
            end else begin
                ap_NS_fsm = ap_ST_fsm_state1;
            end
        end
        ap_ST_fsm_state2 : begin
            if (((exitcond386_i_i_fu_304_p2 == 1'd0) & (1'b1 == ap_CS_fsm_state2))) begin
                ap_NS_fsm = ap_ST_fsm_state2;
            end else begin
                ap_NS_fsm = ap_ST_fsm_state3;
            end
        end
        ap_ST_fsm_state3 : begin
            ap_NS_fsm = ap_ST_fsm_state4;
        end
        ap_ST_fsm_state4 : begin
            if (((icmp_ln58_fu_321_p2 == 1'd0) & (1'b1 == ap_CS_fsm_state4))) begin
                ap_NS_fsm = ap_ST_fsm_state4;
            end else begin
                ap_NS_fsm = ap_ST_fsm_state5;
            end
        end
        ap_ST_fsm_state5 : begin
            ap_NS_fsm = ap_ST_fsm_state6;
        end
        ap_ST_fsm_state6 : begin
            if (((icmp_ln64_fu_341_p2 == 1'd0) & (1'b1 == ap_CS_fsm_state6))) begin
                ap_NS_fsm = ap_ST_fsm_state6;
            end else begin
                ap_NS_fsm = ap_ST_fsm_state7;
            end
        end
        ap_ST_fsm_state7 : begin
            if ((~((grp_nbreadreq_fu_124_p3 == 1'd1) & (chunk_arr_stream_empty_n == 1'b0)) & (1'b1 == ap_CS_fsm_state7))) begin
                ap_NS_fsm = ap_ST_fsm_state8;
            end else begin
                ap_NS_fsm = ap_ST_fsm_state7;
            end
        end
        ap_ST_fsm_state8 : begin
            if ((~(((codeword_stream_full_n == 1'b0) & (ap_predicate_op87_write_state8 == 1'b1)) | ((chunk_arr_stream_empty_n == 1'b0) & (ap_predicate_op81_read_state8 == 1'b1))) & (1'b1 == ap_CS_fsm_state8) & ((tmp_i_i_reg_466 == 1'd0) | ((icmp_ln179_fu_366_p2 == 1'd0) | (grp_nbreadreq_fu_124_p3 == 1'd0))))) begin
                ap_NS_fsm = ap_ST_fsm_state1;
            end else if ((~(((codeword_stream_full_n == 1'b0) & (ap_predicate_op87_write_state8 == 1'b1)) | ((chunk_arr_stream_empty_n == 1'b0) & (ap_predicate_op81_read_state8 == 1'b1))) & (icmp_ln179_fu_366_p2 == 1'd1) & (tmp_i_i_reg_466 == 1'd1) & (grp_nbreadreq_fu_124_p3 == 1'd1) & (1'b1 == ap_CS_fsm_state8))) begin
                ap_NS_fsm = ap_ST_fsm_state9;
            end else begin
                ap_NS_fsm = ap_ST_fsm_state8;
            end
        end
        ap_ST_fsm_state9 : begin
            if ((~((grp_lookup_and_insert_fu_280_ap_done == 1'b0) | ((grp_lookup_and_insert_fu_280_ap_return_1 == 1'd0) & (codeword_stream_full_n == 1'b0))) & (1'b1 == ap_CS_fsm_state9))) begin
                ap_NS_fsm = ap_ST_fsm_state8;
            end else begin
                ap_NS_fsm = ap_ST_fsm_state9;
            end
        end
        default : begin
            ap_NS_fsm = 'bx;
        end
    endcase
end

assign add_ln58_fu_315_p2 = (i_reg_234 + 6'd1);

assign add_ln64_fu_335_p2 = (i_2_reg_245 + 7'd1);

assign ap_CS_fsm_state1 = ap_CS_fsm[32'd0];

assign ap_CS_fsm_state2 = ap_CS_fsm[32'd1];

assign ap_CS_fsm_state3 = ap_CS_fsm[32'd2];

assign ap_CS_fsm_state4 = ap_CS_fsm[32'd3];

assign ap_CS_fsm_state5 = ap_CS_fsm[32'd4];

assign ap_CS_fsm_state6 = ap_CS_fsm[32'd5];

assign ap_CS_fsm_state7 = ap_CS_fsm[32'd6];

assign ap_CS_fsm_state8 = ap_CS_fsm[32'd7];

assign ap_CS_fsm_state9 = ap_CS_fsm[32'd8];

always @ (*) begin
    ap_block_state1 = ((gmem_load_loc_empty_n == 1'b0) | (ap_done_reg == 1'b1) | (real_start == 1'b0));
end

always @ (*) begin
    ap_block_state7 = ((grp_nbreadreq_fu_124_p3 == 1'd1) & (chunk_arr_stream_empty_n == 1'b0));
end

always @ (*) begin
    ap_block_state8 = (((codeword_stream_full_n == 1'b0) & (ap_predicate_op87_write_state8 == 1'b1)) | ((chunk_arr_stream_empty_n == 1'b0) & (ap_predicate_op81_read_state8 == 1'b1)));
end

always @ (*) begin
    ap_block_state8_ignore_call7 = (((codeword_stream_full_n == 1'b0) & (ap_predicate_op87_write_state8 == 1'b1)) | ((chunk_arr_stream_empty_n == 1'b0) & (ap_predicate_op81_read_state8 == 1'b1)));
end

always @ (*) begin
    ap_block_state9 = ((grp_lookup_and_insert_fu_280_ap_return_1 == 1'd0) & (codeword_stream_full_n == 1'b0));
end

always @ (*) begin
    ap_predicate_op81_read_state8 = ((icmp_ln179_fu_366_p2 == 1'd1) & (tmp_i_i_reg_466 == 1'd1) & (grp_nbreadreq_fu_124_p3 == 1'd1));
end

always @ (*) begin
    ap_predicate_op87_write_state8 = (((icmp_ln179_fu_366_p2 == 1'd0) & (tmp_i_i_reg_466 == 1'd1)) | ((tmp_i_i_reg_466 == 1'd1) & (grp_nbreadreq_fu_124_p3 == 1'd0)));
end

assign ap_ready = internal_ap_ready;

assign empty_56_fu_298_p2 = (empty_reg_223 + 16'd1);

assign exitcond386_i_i_fu_304_p2 = ((empty_reg_223 == 16'd32768) ? 1'b1 : 1'b0);

assign grp_lookup_and_insert_fu_280_ap_start = grp_lookup_and_insert_fu_280_ap_start_reg;

assign grp_nbreadreq_fu_124_p3 = chunk_arr_stream_empty_n;

assign hit_fu_395_p1 = grp_lookup_and_insert_fu_280_ap_return_1;

assign i_2_cast_i_i_fu_347_p1 = i_2_reg_245;

assign i_4_fu_431_p2 = (i_3_reg_268 + 32'd1);

assign i_cast_i_i_fu_327_p1 = i_reg_234;

assign icmp_ln179_fu_366_p2 = ((i_3_reg_268 < gmem_load_loc_read_reg_437) ? 1'b1 : 1'b0);

assign icmp_ln58_fu_321_p2 = ((i_reg_234 == 6'd32) ? 1'b1 : 1'b0);

assign icmp_ln64_fu_341_p2 = ((i_2_reg_245 == 7'd64) ? 1'b1 : 1'b0);

assign nextCode_1_fu_411_p2 = (nextCode_fu_114 + 32'd1);

assign p_cast_i_i_fu_310_p1 = empty_reg_223;

assign start_out = real_start;

assign trunc_ln172_fu_403_p1 = grp_lookup_and_insert_fu_280_ap_return_0[15:0];

assign trunc_ln179_fu_387_p1 = nextCode_fu_114[11:0];

assign trunc_ln183_fu_374_p1 = p_0_fu_110[11:0];

assign trunc_ln_fu_378_p3 = {{trunc_ln183_fu_374_p1}, {chunk_arr_stream_dout}};

assign zext_ln172_fu_352_p1 = chunk_arr_stream_dout;

assign zext_ln183_fu_392_p1 = tmp_V_2_reg_499;

endmodule //lzw_compress_stream
